<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./style.css" />

    <script
      crossorigin
      src="https://unpkg.com/react@17/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
    ></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <title>React Calculator</title>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      function App() {
        const [expression, setExpression] = React.useState("");
        const [answer, setanswer] = React.useState(0);
        const display = (symbol) => {
          setExpression((prev) => prev + symbol);
          if (expression[expression.length - 1] == "=") {
            if (/[1-9.]/.test(symbol)) {
              setExpression(symbol);
            } else {
              setExpression(answer + symbol);
            }
          }
        };
        const calculate = () => {
          setanswer(eval(expression));
          setExpression((prev) => prev + "=");
        };

        const allclear = () => {
          setExpression("");
          setanswer(0);
        };
        const clear = () => {
          setExpression((prev) =>
            prev
              .split("")
              .slice(0, prev.length - 1)
              .join("")
          );
          setanswer(0);
        };
        return (
          <div className="container centerd">
            <div className="grid">
              <div className="dis" id="display">
                <input
                  type="text"
                  className="form-control "
                  value={expression}
                  placeholder="0"
                  disabled
                />
                <div className="total">{answer}</div>
              </div>
              <button
                onClick={allclear}
                className="btn padButton AC"
                id="clear"
              >
                AC
              </button>
              <button onClick={clear} className="btn padButton C">
                C
              </button>

              <button
                onClick={() => display("/")}
                className="btn padButton divide"
                id="divide"
              >
                /
              </button>
              <button
                onClick={() => display("*")}
                className="btn padButton mult"
                id="multiply"
              >
                X
              </button>
              <button
                onClick={() => display("7")}
                className="btn padButton seven"
                id="seven"
              >
                7
              </button>
              <button
                onClick={() => display("8")}
                className="btn padButton eight"
                id="eight"
              >
                8
              </button>
              <button
                onClick={() => display("9")}
                className="btn padButton nine"
                id="nine"
              >
                9
              </button>
              <button
                onClick={() => display("-")}
                className="btn padButton minus"
                id="subtract"
              >
                -
              </button>
              <button
                onClick={() => display("4")}
                className="btn padButton four"
                id="four"
              >
                4
              </button>
              <button
                onClick={() => display("5")}
                className="btn padButton five"
                id="five"
              >
                5
              </button>
              <button
                onClick={() => display("6")}
                className="btn padButton six"
                id="six"
              >
                6
              </button>
              <button
                onClick={() => display("+")}
                className="btn padButton plus"
                id="add"
              >
                +
              </button>
              <button
                onClick={() => display("1")}
                className="btn padButton one"
                id="one"
              >
                1
              </button>
              <button
                onClick={() => display("2")}
                className="btn padButton two"
                id="two"
              >
                2
              </button>
              <button
                onClick={() => display("3")}
                className="btn padButton three"
                id="three"
              >
                3
              </button>
              <button
                onClick={calculate}
                className="btn padButton equal"
                id="equals"
              >
                =
              </button>
              <button
                onClick={() => display("0")}
                className="btn padButton zero"
                id="zero"
              >
                0
              </button>
              <button
                onClick={() => display(".")}
                className="btn padButton dot"
                id="decimal"
              >
                .
              </button>
            </div>
          </div>
        );
      }

      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
